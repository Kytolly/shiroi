<!DOCTYPE html>
<html>
<%- partial('_partial/head') %>

<body
  <% if (theme.image && theme.image.enable) { %>
    data-image-center="<%= theme.image.center ? 'true' : 'false' %>"
    data-image-caption="<%= theme.image.caption ? 'true' : 'false' %>"
  <% } %>
  <% if (theme.code_block) { %>
    data-code-block-copy-button="<%= theme.code_block.copy_button || '' %>"
    data-code-block-theme-toggle-enable="<%= (theme.code_block.theme_toggle && theme.code_block.theme_toggle.enable) ? 'true' : 'false' %>"
    data-code-block-theme-toggle-to-light-button="<%= (theme.code_block.theme_toggle && theme.code_block.theme_toggle.to_light_button) || '' %>"
    data-code-block-theme-toggle-to-dark-button="<%= (theme.code_block.theme_toggle && theme.code_block.theme_toggle.to_dark_button) || '' %>"
    data-code-block-mac-enhancer="<%= (theme.code_block.mac_enhancier && theme.code_block.mac_enhancier.enable) ? 'true' : 'false' %>"
    <% if (theme.code_block.mac_enhancier && theme.code_block.mac_enhancier.enable) { %>
    data-code-block-mac-enhancer-init-folded-status="<%= (theme.code_block.mac_enhancier.init_folded_status) ? 'true' : 'false' %>"
    <% } else { %>
    data-code-block-mac-enhancer-init-folded-status="false"
    <% } %>
  <% } %>
>
  <%- partial('_partial/header') %>
  <main class="main">
    <%- body %>
  </main>
  <%- partial('_partial/footer') %>

  <script>
    // Initialize a global config object for theme features
    window.THEME_CONFIG = {};
  </script>

  <!-- Code Block Feature Config -->
  <!-- Removed: Configuration now passed via data-attributes on body tag -->

  <%- js('js/code-block.js') %>
  <%- js('js/theme.js') %>
</body>

</html>